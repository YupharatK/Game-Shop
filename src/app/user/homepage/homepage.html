<div class="shop-container">
  <!-- Hero -->
  <section class="hero-section">
    <div class="hero-content">
      <h1>Unleash Your Inner Outlaw</h1>
      <p>Ride into the untamed West, forge your own legend, and experience an epic tale of honor and loyalty.</p>
      <button class="hero-button" [routerLink]="['/shop']">Shop Now</button>
    </div>
  </section>

  <!-- Best Sellers -->
<section class="game-section">
  <h2>Best Sellers</h2>

  <div *ngIf="loadingTop" class="info">Loading best sellers...</div>
  <div *ngIf="!loadingTop && topError" class="error">{{ topError }}</div>

  <div class="game-grid" *ngIf="!loadingTop && !topError">
    <a
      class="game-card game-card-link"
      *ngFor="let game of bestSellers; let i = index"
      [routerLink]="['/game-details', game.id]"
    >
      <!-- ✅ Badge แสดงอันดับ -->
      <span class="rank-label">#{{ i + 1 }}</span>

      <img [src]="game.imageUrl" [alt]="game.title" class="game-image" />
      <h3 class="game-title">{{ game.title }}</h3>
      <p class="game-price">฿ {{ game.price | number:'1.2-2' }}</p>

      <div *ngIf="!game.isOwned; else ownedBlock" class="button-group">
        <button class="btn-add" (click)="$event.preventDefault(); $event.stopPropagation();">ADD</button>
        <button class="btn-buy" (click)="$event.preventDefault(); $event.stopPropagation();">BUY</button>
      </div>

      <ng-template #ownedBlock>
        <div class="owned-badge">IN LIBRARY</div>
      </ng-template>
    </a>

    <div *ngIf="!bestSellers?.length" class="empty">No best sellers to show.</div>
  </div>
</section>


  <!-- New Releases -->
  <section class="game-section">
    <h2>New Releases</h2>
    <div class="game-grid">
      <div class="game-card" *ngFor="let game of newReleases">
        <img [src]="game.imageUrl" [alt]="game.title" class="game-image" />
        <h3 class="game-title">{{ game.title }}</h3>
        <p class="game-price">฿ {{ game.price | number:'1.2-2' }}</p>
        <div class="button-group">
          <button class="btn-add">ADD</button>
          <button class="btn-buy">BUY</button>
        </div>
      </div>
    </div>
  </section>
</div>
